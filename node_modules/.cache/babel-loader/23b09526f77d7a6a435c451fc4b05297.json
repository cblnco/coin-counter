{"ast":null,"code":"import _classCallCheck from\"/home/runner/work/coin-counter/coin-counter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/runner/work/coin-counter/coin-counter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/runner/work/coin-counter/coin-counter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/runner/work/coin-counter/coin-counter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Fragment,Component}from\"react\";import CoinsLabel from\"../coinsLabel/CoinsLabel\";import Coin from\"../coin/Coin.jsx\";import MysteryBlock from\"../mysteryBlock/MysteryBlock\";import Button from\"../button/Button\";import\"./style.css\";var Counter=/*#__PURE__*/function(_Component){_inherits(Counter,_Component);var _super=_createSuper(Counter);function Counter(){var _this;_classCallCheck(this,Counter);_this=_super.call(this);_this.removeAnimations=function(){setTimeout(function(){return _this.setState(function(prevState,props){return{isMysteryBlockActive:prevState.counter<props.limit,coinAnimation:false,mysteryBlockAnimation:false};});},_this.props.animationTimeout);};_this.handleOnIncreaseClick=function(){debugger;if(_this.state.counter<_this.props.limit){_this.setState(function(prevState){return{counter:prevState.counter+1,coinAnimation:true,mysteryBlockAnimation:true,isMysteryBlockActive:true};},_this.removeAnimations());}else{_this.setState({mysteryBlockAnimation:true});setTimeout(function(){return _this.setState({mysteryBlockAnimation:false});},_this.props.animationTimeout);}};_this.handleOnDecreaseClick=function(){if(_this.state.counter>0){_this.setState(function(prevState,props){return{counter:prevState.counter-1,isMysteryBlockActive:prevState.counter<=props.limit};});var decrementFX=new Audio(\"https://themushroomkingdom.net/sounds/wav/smw/smw_stomp_bones.wav\");decrementFX.play();}else{var disabledFX=new Audio(\"https://themushroomkingdom.net/sounds/wav/smw/smw_lemmy_wendy_incorrect.wav\");disabledFX.play();}};_this.handleOnButtonClick=function(event){var actionMap={increase:1,decrease:-1};var actionType=event.target.getAttribute(\"action\");_this.setState(function(prevState){return{counter:prevState.counter+actionMap[actionType]};});};_this.state={counter:0,coinAnimation:false,isMysteryBlockActive:true,mysteryBlockAnimation:false};return _this;}_createClass(Counter,[{key:\"render\",value:function render(){var _this$state=this.state,counter=_this$state.counter,coinAnimation=_this$state.coinAnimation,isMysteryBlockActive=_this$state.isMysteryBlockActive,mysteryBlockAnimation=_this$state.mysteryBlockAnimation;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(CoinsLabel,{number:counter,padStart:5,padStr:\"0\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"row App-Mystery-Block-row\"},/*#__PURE__*/React.createElement(Coin,{id:\"main_coin\",defaultStyle:true,animation:coinAnimation,alt:\"Coin\"}),/*#__PURE__*/React.createElement(MysteryBlock,{id:\"mystery_block\",active:isMysteryBlockActive,animation:mysteryBlockAnimation,alt:\"Mystery Block\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(Button,{action:\"increase\",id:\"increase_button\",onClick:this.handleOnIncreaseClick},\"Increase\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(Button,{action:\"decrease\",id:\"decrease_button\",onClick:this.handleOnDecreaseClick},\"Decrease\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"})));}}]);return Counter;}(Component);export default Counter;","map":{"version":3,"sources":["/home/runner/work/coin-counter/coin-counter/src/components/counter/Counter.jsx"],"names":["React","Fragment","Component","CoinsLabel","Coin","MysteryBlock","Button","Counter","removeAnimations","setTimeout","setState","prevState","props","isMysteryBlockActive","counter","limit","coinAnimation","mysteryBlockAnimation","animationTimeout","handleOnIncreaseClick","state","handleOnDecreaseClick","decrementFX","Audio","play","disabledFX","handleOnButtonClick","event","actionMap","increase","decrease","actionType","target","getAttribute"],"mappings":"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","sourcesContent":["import React, { Fragment, Component } from \"react\";\nimport CoinsLabel from \"../coinsLabel/CoinsLabel\";\nimport Coin from \"../coin/Coin.jsx\";\nimport MysteryBlock from \"../mysteryBlock/MysteryBlock\";\nimport Button from \"../button/Button\";\nimport PropTypes from \"prop-types\";\nimport \"./style.css\";\n\nclass Counter extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      counter: 0,\n      coinAnimation: false,\n      isMysteryBlockActive: true,\n      mysteryBlockAnimation: false\n    };\n  }\n\n  removeAnimations = () => {\n    setTimeout(\n      () =>\n        this.setState((prevState, props) => ({\n          isMysteryBlockActive: prevState.counter < props.limit,\n          coinAnimation: false,\n          mysteryBlockAnimation: false\n        })),\n      this.props.animationTimeout\n    );\n  };\n\n  handleOnIncreaseClick = () => {\n    debugger\n    if (this.state.counter < this.props.limit) {\n      this.setState(prevState => ({\n        counter: prevState.counter + 1,\n        coinAnimation: true,\n        mysteryBlockAnimation: true,\n        isMysteryBlockActive: true\n      }), this.removeAnimations());\n\n\n    } else {\n      this.setState({ mysteryBlockAnimation: true });\n      setTimeout(() => this.setState({ mysteryBlockAnimation: false }), this.props.animationTimeout);\n    }\n  };\n\n  handleOnDecreaseClick = () => {\n    if (this.state.counter > 0) {\n      this.setState((prevState, props) => ({\n        counter: prevState.counter - 1,\n        isMysteryBlockActive: prevState.counter <= props.limit\n      }));\n      const decrementFX = new Audio(\n        \"https://themushroomkingdom.net/sounds/wav/smw/smw_stomp_bones.wav\"\n      );\n      decrementFX.play();\n    } else {\n      const disabledFX = new Audio(\n        \"https://themushroomkingdom.net/sounds/wav/smw/smw_lemmy_wendy_incorrect.wav\"\n      );\n      disabledFX.play();\n    }\n  };\n\n\n  handleOnButtonClick = event => {\n    const actionMap = {\n      increase: 1,\n      decrease: -1\n    }\n    const actionType = event.target.getAttribute(\"action\");\n\n    this.setState(prevState => ({\n      counter: prevState.counter + actionMap[actionType]\n    }))\n  }\n\n\n  render() {\n    const {\n      counter,\n      coinAnimation,\n      isMysteryBlockActive,\n      mysteryBlockAnimation\n    } = this.state;\n\n    return (\n      <Fragment>\n        <div className=\"row\">\n          <CoinsLabel number={counter} padStart={5} padStr=\"0\" />\n        </div>\n        <div className=\"row App-Mystery-Block-row\">\n          <Coin\n            id=\"main_coin\"\n            defaultStyle\n            animation={coinAnimation}\n            alt=\"Coin\"\n          />\n          <MysteryBlock\n            id=\"mystery_block\"\n            active={isMysteryBlockActive}\n            animation={mysteryBlockAnimation}\n            alt=\"Mystery Block\"\n          />\n        </div>\n        <div className=\"row\">\n          <div className=\"col-4\" />\n          <div className=\"col-2\">\n            <Button action=\"increase\" id=\"increase_button\" onClick={this.handleOnIncreaseClick}>\n              Increase\n            </Button>\n          </div>\n          <div className=\"col-2\">\n            <Button action=\"decrease\" id=\"decrease_button\" onClick={this.handleOnDecreaseClick}>\n              Decrease\n            </Button>\n           \n          </div>\n          <div className=\"col-4\" />\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nCounter.propTypes = {\n  limit: PropTypes.number.isRequired,\n  animationTimeout: PropTypes.number\n};\n\nexport default Counter;\n"]},"metadata":{},"sourceType":"module"}